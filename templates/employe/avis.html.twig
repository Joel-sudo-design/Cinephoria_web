{% extends 'baseEmploye.html.twig' %}

{% block title %}Employé: validation des avis{% endblock %}

{% block extra_content_bouton_creation_film %}
    <a class="btn-admin mx-3 justify-content-center text-decoration-none" href="{{ path('app_employe') }}">Création film</a>
    <a class="btn-admin mx-3 justify-content-center text-decoration-none active" href="{{ path('app_employe_avis') }}">Validation avis</a>
{% endblock %}

{% block body %}
    <div class="container-fluid container-films">
        <div class="row justify-content-center px-5 py-3" style="gap: 3rem 3rem;">
            {% for film in films %}
                <div class="card d-flex col-auto flex-row p-0 position-relative" style="width: 30rem; height: 15rem; background-color: #6A73AB; border-radius: 6px; overflow: hidden; border: none;">
                    <img src="{{ asset('/image_film/' ~ film.imageName) }}" class="card-img-left" alt="{{ film.name }}" style="width: auto; height: 100%; object-fit: cover; margin: 0; border: none;">
                    <div class="card-body p-3 position-relative">
                        <h5 class="text-white">{{ film.name }}</h5>
                        <div id="loading-spinner-{{ film.id }}"
                             class="d-flex justify-content-center align-items-center d-none"
                             style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; height: 100%;">
                            <div class="spinner-border" role="status" style="color: white; width: 2rem; height: 2rem;">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                        <div id="card-container-avis-{{ film.id }}" class="card-container-avis card-text m-0" style="max-height: 10rem; overflow-y: auto"></div>
                    </div>
                </div>
            {% else %}
                <p class="text-white text-center">Aucun film trouvé.</p>
            {% endfor %}
        </div>
    </div>

{% endblock %}
